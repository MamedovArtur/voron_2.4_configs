[include fluidd.cfg]
[include cfg/motors_and_drivers.cfg]
[include cfg/extruder_and_heaters.cfg]
[include cfg/sensors_and_probes.cfg]
[include cfg/macros.cfg]

[adxl345]
cs_pin: ebb: PB12
spi_software_sclk_pin: ebb: PB10
spi_software_mosi_pin: ebb: PB11
spi_software_miso_pin: ebb: PB2
axes_map: x,z,y


# Main MCU configuration
[mcu]
#canbus_uuid: 504d3ac3c2f8
serial: /dev/ttyS0
restart_method: command


[mcu ebb]
#canbus_uuid: 9198cef22723
serial: /dev/serial/by-id/usb-Klipper_stm32g0b1xx_350024001550425539383920-if00
restart_method: command

[printer]
kinematics: corexy
max_velocity: 200
max_accel: 5000
max_z_velocity: 20
max_z_accel: 1000
square_corner_velocity: 5.0


[virtual_sdcard]
path: ~/printer_data/gcodes

[pause_resume]

[display_status]
[exclude_object]


[idle_timeout]
timeout: 36000

[force_move]
enable_force_move: True

[bed_mesh]
speed: 300
horizontal_move_z: 3
mesh_min: 25,25
mesh_max: 180,200
probe_count: 8, 8
algorithm: bicubic

[quad_gantry_level]
gantry_corners:
	-100,-100
    350,350
##	Probe points
points:
	30,  0           
         30, 180
		 200, 180
		 200, 0
speed: 100
horizontal_move_z: 4
retries: 3
retry_tolerance: 0.1
max_adjust: 30

[z_tilt]
z_positions:
         -100, -100
		 -100, 350
         350, 350
		 350,-100
points:
         30,  0           
         30, 180
		 200, 180
		 200, 0
speed: 100

[safe_z_home]
home_xy_position: 120,120 # Change coordinates to the center of your print bed
speed: 100
z_hop: 10                 # Move up 10mm
z_hop_speed: 4

[resonance_tester]
accel_chip: adxl345
accel_per_hz: 120
probe_points:
  170, 170, 10


#[input_shaper]
#shaper_freq_x: 70.0
#shaper_freq_y: 62.8
#shaper_type_x: mzv
#shaper_type_y: zv

[gcode_arcs]


[extruder]
control: pid
pid_kp: 17.176
pid_ki: 0.996
pid_kd: 74.074

[heater_bed]
control: pid
pid_kp: 63.804
pid_ki: 2.727
pid_kd: 373.256


[controller_fan motors_fan]
pin: PA0

[temperature_fan mcu_temp]
pin: PA1
sensor_type: temperature_mcu
control: watermark
min_temp: 0
max_temp: 85
target_temp: 34

#next fan PA0

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [temperature_probe btt_eddy]
#*# calibration_temp = 31.313571
#*# drift_calibration =
#*# 	3316452.227065, -4111.073577, 39.374551
#*# 	3289727.799125, -3287.770864, 31.178809
#*# 	3269607.931553, -2678.839240, 25.126491
#*# 	3250719.439857, -2071.087570, 19.017027
#*# 	3238513.773882, -1709.067813, 15.438366
#*# 	3228857.953479, -1426.023072, 12.644773
#*# 	3220237.119652, -1164.310080, 10.047034
#*# 	3213999.100788, -985.260085, 8.292051
#*# 	3208900.815035, -838.205715, 6.825259
#*# drift_calibration_min_temp = 40.71084887846613
#*#
#*# [probe_eddy_current btt_eddy]
#*# calibrate =
#*# 	0.050000:3217375.005,0.090000:3216706.795,0.130000:3216058.910,
#*# 	0.170000:3215415.383,0.210000:3214787.036,0.250000:3214198.850,
#*# 	0.290000:3213612.292,0.330000:3213013.197,0.370000:3212426.902,
#*# 	0.410000:3211850.670,0.450000:3211323.817,0.490000:3210758.280,
#*# 	0.530000:3210248.870,0.570000:3209718.067,0.610000:3209225.374,
#*# 	0.650000:3208688.038,0.690000:3208233.342,0.730000:3207759.282,
#*# 	0.770000:3207289.508,0.810000:3206843.887,0.850000:3206387.682,
#*# 	0.890000:3205918.506,0.930000:3205505.010,0.970000:3205082.431,
#*# 	1.010000:3204653.676,1.050000:3204226.207,1.090000:3203842.392,
#*# 	1.130000:3203410.415,1.170000:3203051.176,1.210000:3202657.533,
#*# 	1.250000:3202306.831,1.290000:3201915.468,1.330000:3201561.819,
#*# 	1.370000:3201181.661,1.410000:3200824.223,1.450000:3200491.045,
#*# 	1.490000:3200203.985,1.530000:3199803.853,1.570000:3199477.544,
#*# 	1.610000:3199170.312,1.650000:3198857.989,1.690000:3198540.528,
#*# 	1.730000:3198251.513,1.770000:3197934.946,1.810000:3197642.983,
#*# 	1.850000:3197353.315,1.890000:3197081.280,1.930000:3196798.271,
#*# 	1.970000:3196530.914,2.010000:3196247.156,2.050000:3195980.433,
#*# 	2.090000:3195742.376,2.130000:3195470.268,2.170000:3195215.890,
#*# 	2.210000:3194959.672,2.250000:3194710.169,2.290000:3194466.226,
#*# 	2.330000:3194237.208,2.370000:3194008.861,2.410000:3193777.640,
#*# 	2.450000:3193526.959,2.490000:3193336.408,2.530000:3193117.897,
#*# 	2.570000:3192906.223,2.610000:3192674.315,2.650000:3192500.521,
#*# 	2.690000:3192268.780,2.730000:3192078.775,2.770000:3191859.893,
#*# 	2.810000:3191674.426,2.850000:3191499.295,2.890000:3191310.013,
#*# 	2.930000:3191124.782,2.970000:3190934.254,3.010000:3190761.096,
#*# 	3.050000:3190569.465,3.090000:3190415.069,3.130000:3190227.082,
#*# 	3.170000:3190058.711,3.210000:3189901.886,3.250000:3189732.760,
#*# 	3.290000:3189563.288,3.330000:3189405.261,3.370000:3189259.390,
#*# 	3.410000:3189101.443,3.450000:3188938.785,3.490000:3188785.847,
#*# 	3.530000:3188662.406,3.570000:3188495.835,3.610000:3188361.775,
#*# 	3.650000:3188211.912,3.690000:3188085.331,3.730000:3187931.643,
#*# 	3.770000:3187802.321,3.810000:3187630.867,3.850000:3187530.294,
#*# 	3.890000:3187404.195,3.930000:3187278.173,3.970000:3187162.097,
#*# 	4.010000:3187043.454,4.050000:3186919.663
