[include fluidd.cfg]
[include cfg/motors_and_drivers.cfg]
[include cfg/extruder_and_heaters.cfg]
[include cfg/sensors_and_probes.cfg]
[include cfg/macros.cfg]

[adxl345]
cs_pin: ebb: PB12
spi_software_sclk_pin: ebb: PB10
spi_software_mosi_pin: ebb: PB11
spi_software_miso_pin: ebb: PB2
axes_map: x,z,y


# Main MCU configuration
[mcu]
#canbus_uuid: 504d3ac3c2f8
serial: /dev/ttyS0
restart_method: command


[mcu ebb]
#canbus_uuid: 9198cef22723
serial: /dev/serial/by-id/usb-Klipper_stm32g0b1xx_350024001550425539383920-if00
restart_method: command

[printer]
kinematics: corexy
max_velocity: 200
max_accel: 5000
max_z_velocity: 20
max_z_accel: 1000
square_corner_velocity: 5.0


[virtual_sdcard]
path: ~/printer_data/gcodes

[pause_resume]

[display_status]
[exclude_object]


[idle_timeout]
timeout: 36000

[force_move]
enable_force_move: True

[bed_mesh]
speed: 300
horizontal_move_z: 3
mesh_min: 25,25
mesh_max: 180,200
probe_count: 8, 8
algorithm: bicubic

[quad_gantry_level]
gantry_corners:
	-100,-100
    350,350
##	Probe points
points:
	30,  0           
         30, 180
		 200, 180
		 200, 0
speed: 100
horizontal_move_z: 4
retries: 3
retry_tolerance: 0.1
max_adjust: 30

[z_tilt]
z_positions:
         -100, -100
		 -100, 350
         350, 350
		 350,-100
points:
         30,  0           
         30, 180
		 200, 180
		 200, 0
speed: 100

[safe_z_home]
home_xy_position: 120,120 # Change coordinates to the center of your print bed
speed: 100
z_hop: 10                 # Move up 10mm
z_hop_speed: 4

[resonance_tester]
accel_chip: adxl345
accel_per_hz: 120
probe_points:
  170, 170, 10


#[input_shaper]
#shaper_freq_x: 70.0
#shaper_freq_y: 62.8
#shaper_type_x: mzv
#shaper_type_y: zv

[gcode_arcs]


[extruder]
control: pid
pid_kp: 17.176
pid_ki: 0.996
pid_kd: 74.074

[heater_bed]
control: pid
pid_kp: 63.804
pid_ki: 2.727
pid_kd: 373.256


[controller_fan motors_fan]
pin: PA0

[temperature_fan mcu_temp]
pin: PA1
sensor_type: temperature_mcu
control: watermark
min_temp: 0
max_temp: 85
target_temp: 34

#next fan PA0

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [temperature_probe btt_eddy]
#*# calibration_temp = 38.106853
#*# drift_calibration =
#*# 	3316452.227065, -4111.073577, 39.374551
#*# 	3289727.799125, -3287.770864, 31.178809
#*# 	3269607.931553, -2678.839240, 25.126491
#*# 	3250719.439857, -2071.087570, 19.017027
#*# 	3238513.773882, -1709.067813, 15.438366
#*# 	3228857.953479, -1426.023072, 12.644773
#*# 	3220237.119652, -1164.310080, 10.047034
#*# 	3213999.100788, -985.260085, 8.292051
#*# 	3208900.815035, -838.205715, 6.825259
#*# drift_calibration_min_temp = 40.71084887846613
#*#
#*# [probe_eddy_current btt_eddy]
#*# calibrate =
#*# 	0.050000:3209518.889,0.090000:3209054.113,0.130000:3208564.571,
#*# 	0.170000:3208097.845,0.210000:3207646.057,0.250000:3207170.125,
#*# 	0.290000:3206746.266,0.330000:3206297.189,0.370000:3205868.630,
#*# 	0.410000:3205461.727,0.450000:3205029.059,0.490000:3204635.734,
#*# 	0.530000:3204224.421,0.570000:3203847.719,0.610000:3203469.755,
#*# 	0.650000:3203080.054,0.690000:3202687.694,0.730000:3202346.186,
#*# 	0.770000:3201977.801,0.810000:3201617.907,0.850000:3201287.581,
#*# 	0.890000:3200942.799,0.930000:3200599.347,0.970000:3200290.974,
#*# 	1.010000:3199943.617,1.050000:3199620.357,1.090000:3199305.620,
#*# 	1.130000:3199009.363,1.170000:3198688.159,1.210000:3198403.146,
#*# 	1.250000:3198105.845,1.290000:3197816.534,1.330000:3197532.425,
#*# 	1.370000:3197245.400,1.410000:3196978.342,1.450000:3196707.393,
#*# 	1.490000:3196436.743,1.530000:3196189.070,1.570000:3195934.197,
#*# 	1.610000:3195680.605,1.650000:3195425.039,1.690000:3195176.723,
#*# 	1.730000:3194954.004,1.770000:3194706.838,1.810000:3194461.804,
#*# 	1.850000:3194242.798,1.890000:3194022.337,1.930000:3193795.117,
#*# 	1.970000:3193547.675,2.010000:3193369.214,2.050000:3193159.606,
#*# 	2.090000:3192960.445,2.130000:3192722.583,2.170000:3192521.149,
#*# 	2.210000:3192325.357,2.250000:3192152.095,2.290000:3191959.609,
#*# 	2.330000:3191736.077,2.370000:3191549.195,2.410000:3191402.716,
#*# 	2.450000:3191192.949,2.490000:3191028.703,2.530000:3190849.012,
#*# 	2.570000:3190678.807,2.610000:3190516.513,2.650000:3190324.552,
#*# 	2.690000:3190163.504,2.730000:3190003.470,2.770000:3189831.050,
#*# 	2.810000:3189692.161,2.850000:3189546.228,2.890000:3189385.328,
#*# 	2.930000:3189216.231,2.970000:3189073.840,3.010000:3188922.404,
#*# 	3.050000:3188778.503,3.090000:3188642.943,3.130000:3188497.197,
#*# 	3.170000:3188347.932,3.210000:3188212.234,3.250000:3188065.985,
#*# 	3.290000:3187948.510,3.330000:3187803.304,3.370000:3187662.622,
#*# 	3.410000:3187537.214,3.450000:3187444.409,3.490000:3187305.776,
#*# 	3.530000:3187190.695,3.570000:3187044.387,3.610000:3186947.635,
#*# 	3.650000:3186822.469,3.690000:3186706.079,3.730000:3186594.819,
#*# 	3.770000:3186490.951,3.810000:3186361.201,3.850000:3186243.789,
#*# 	3.890000:3186153.885,3.930000:3186034.758,3.970000:3185926.031,
#*# 	4.010000:3185834.045,4.050000:3185744.473
