[include fluidd.cfg]
[include cfg/motors_and_drivers.cfg]
[include cfg/extruder_and_heaters.cfg]
[include cfg/sensors_and_probes.cfg]
[include cfg/macros.cfg]

[adxl345]
cs_pin: ebb: PB12
spi_software_sclk_pin: ebb: PB10
spi_software_mosi_pin: ebb: PB11
spi_software_miso_pin: ebb: PB2
axes_map: x,z,y


# Main MCU configuration
[mcu]
#canbus_uuid: 504d3ac3c2f8
serial: /dev/ttyS0
restart_method: command


[mcu ebb]
#canbus_uuid: 9198cef22723
serial: /dev/serial/by-id/usb-Klipper_stm32g0b1xx_350024001550425539383920-if00
restart_method: command

[printer]
kinematics: corexy
max_velocity: 200
max_accel: 5000
max_z_velocity: 20
max_z_accel: 1000
square_corner_velocity: 5.0


[virtual_sdcard]
path: ~/printer_data/gcodes

[pause_resume]

[display_status]
[exclude_object]


[idle_timeout]
timeout: 36000

[force_move]
enable_force_move: True

[bed_mesh]
speed: 300
horizontal_move_z: 2
mesh_min: 25,25
mesh_max: 220,220
probe_count: 100, 20
algorithm: bicubic

[quad_gantry_level]
gantry_corners:
	-73,-5
    290,330
##	Probe points
points:
	30,  0           
         30, 180
		 200, 180
		 200, 0
speed: 100
horizontal_move_z: 4
retries: 2
retry_tolerance: 0.1
max_adjust: 30

# [z_tilt]
# z_positions:
#          -100, -100
# 		 -100, 350
#          350, 350
# 		 350,-100
# points:
#          30,  0           
#          30, 180
# 		 200, 180
# 		 200, 0
# speed: 100

[safe_z_home]
home_xy_position: 120,120 # Change coordinates to the center of your print bed
speed: 200
z_hop: 10                 # Move up 10mm
z_hop_speed: 25

[resonance_tester]
accel_chip: adxl345
accel_per_hz: 120
probe_points:
  170, 170, 10


[input_shaper]
shaper_freq_x: 77.6
shaper_freq_y: 57.6
shaper_type_x: ei
shaper_type_y: ei

[gcode_arcs]


[extruder]
control: pid
pid_kp: 17.176
pid_ki: 0.996
pid_kd: 74.074

[heater_bed]
control: pid
pid_kp: 63.804
pid_ki: 2.727
pid_kd: 373.256


[controller_fan motors_fan]
pin: PA0

[temperature_fan mcu_temp]
pin: PA1
sensor_type: temperature_mcu
control: watermark
min_temp: 0
max_temp: 85
target_temp: 34

#next fan PA0

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [temperature_probe btt_eddy]
#*# calibration_temp = 35.591750
#*# drift_calibration =
#*# 	3224472.448670, -921.048140, 7.641924
#*# 	3217113.365995, -768.639790, 6.149721
#*# 	3211088.473514, -641.995407, 4.894694
#*# 	3206822.740266, -570.234604, 4.226526
#*# 	3202578.347705, -477.355902, 3.297531
#*# 	3199439.737947, -417.064481, 2.703096
#*# 	3197429.070088, -394.677234, 2.522721
#*# 	3194616.340961, -328.196727, 1.867974
#*# 	3192527.636321, -283.413626, 1.424012
#*# drift_calibration_min_temp = 35.53133301403206
#*#
#*# [probe_eddy_current btt_eddy]
#*# calibrate =
#*# 	0.050000:3201474.171,0.090000:3201168.183,0.130000:3200823.076,
#*# 	0.170000:3200513.728,0.210000:3200193.211,0.250000:3199857.627,
#*# 	0.290000:3199549.250,0.330000:3199243.194,0.370000:3198934.177,
#*# 	0.410000:3198646.803,0.450000:3198359.087,0.490000:3198076.494,
#*# 	0.530000:3197796.639,0.570000:3197526.986,0.610000:3197244.054,
#*# 	0.650000:3196986.075,0.690000:3196732.505,0.730000:3196480.055,
#*# 	0.770000:3196226.436,0.810000:3195964.292,0.850000:3195718.955,
#*# 	0.890000:3195474.572,0.930000:3195241.694,0.970000:3195010.323,
#*# 	1.010000:3194778.841,1.050000:3194543.880,1.090000:3194318.515,
#*# 	1.130000:3194107.962,1.170000:3193888.793,1.210000:3193684.727,
#*# 	1.250000:3193477.614,1.290000:3193267.126,1.330000:3193061.078,
#*# 	1.370000:3192839.334,1.410000:3192651.384,1.450000:3192458.307,
#*# 	1.490000:3192266.253,1.530000:3192072.837,1.570000:3191886.638,
#*# 	1.610000:3191696.809,1.650000:3191498.167,1.690000:3191356.550,
#*# 	1.730000:3191201.763,1.770000:3190992.896,1.810000:3190820.591,
#*# 	1.850000:3190674.663,1.890000:3190491.473,1.930000:3190320.402,
#*# 	1.970000:3190167.532,2.010000:3190012.524,2.050000:3189875.360,
#*# 	2.090000:3189708.026,2.130000:3189552.205,2.170000:3189412.613,
#*# 	2.210000:3189253.024,2.250000:3189132.335,2.290000:3188965.697,
#*# 	2.330000:3188820.675,2.370000:3188706.470,2.410000:3188538.791,
#*# 	2.450000:3188430.939,2.490000:3188292.485,2.530000:3188158.730,
#*# 	2.570000:3188037.241,2.610000:3187909.430,2.650000:3187782.317,
#*# 	2.690000:3187649.533,2.730000:3187517.460,2.770000:3187439.690,
#*# 	2.810000:3187300.163,2.850000:3187176.467,2.890000:3187057.605,
#*# 	2.930000:3186954.938,2.970000:3186836.915,3.010000:3186715.538,
#*# 	3.050000:3186616.817,3.090000:3186523.717,3.130000:3186395.967,
#*# 	3.170000:3186303.638,3.210000:3186194.867,3.250000:3186088.187,
#*# 	3.290000:3186009.586,3.330000:3185888.423,3.370000:3185777.746,
#*# 	3.410000:3185713.064,3.450000:3185592.683,3.490000:3185500.876,
#*# 	3.530000:3185410.802,3.570000:3185323.940,3.610000:3185223.588,
#*# 	3.650000:3185138.612,3.690000:3185044.643,3.730000:3184981.088,
#*# 	3.770000:3184882.861,3.810000:3184792.988,3.850000:3184719.547,
#*# 	3.890000:3184632.698,3.930000:3184545.478,3.970000:3184463.915,
#*# 	4.010000:3184383.550,4.050000:3184299.238
